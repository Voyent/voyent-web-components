<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../bridgeit-io-import/bridgeit-io-import.html">
<link rel="import" href="../../iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../../paper-button/paper-button.html">
<link rel="import" href="../bridgeit-code-editor/bridgeit-code-editor.html">

<!--
Displays a transport editor that can build message templates for various technologies

@demo demo.html
-->
<dom-module id="bridgeit-transport-editor">
    <template>
        <style type="text/css">
           .miniCheck {
               font-size: 10px;
               font-weight: normal;
           }
           .checkboxRow label {
               display: inline-block;
           }
           .indentTd {
               padding-left: 10px;
           }
           .form-control {
                display: inline;
                width: 90%;
                padding:2px 3px;
                font-size: 14px;
                line-height: 1.42857143;
                color: #555;
                background: #FFF;
                border: 1px solid #ccc;
                border-radius: 5px;
                -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
                box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
                -webkit-transition: border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;
                -o-transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
                transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
           }
        </style>
        
        <div>
            <table cellpadding="5" cellspacing="0" width="90%">
            <tr>
                <td style="width: 20%;">Enable Transport:</td>
                <td style="width: 50%;" class="checkboxRow">
                    <template is="dom-if" if="[[allowBrowser]]">
                        <label>
                            <input type="checkbox" checked="{{tool.transport.browser::change}}"/>
                            Browser
                        </label>
                    </template>
                    <template is="dom-if" if="[[allowCloud]]">
                        <label>
                            <input type="checkbox" checked="{{tool.transport.cloud::change}}"/>
                            Cloud
                        </label>
                    </template>
                    <template is="dom-if" if="[[allowSMS]]">
                        <label>
                            <input type="checkbox" checked="{{tool.transport.sms::change}}"/>
                            SMS
                        </label>
                    </template>
                    <template is="dom-if" if="[[allowEmail]]">
                        <label>
                            <input type="checkbox" checked="{{tool.transport.email::change}}"/>
                            Email
                        </label>
                    </template>
                    <template is="dom-if" if="{{noTransports}}">
                        No transports were enabled for this component
                    </template>
                </td>
                <td style="width: 30%;">
                </td>
            </tr>
            
            <template is="dom-if" if="{{!noTransports}}">
            <tr>
                <td colspan="3">&nbsp;</td>
            </tr>
            
            <tr><th colspan="2">Field</th><th>Use For</th></tr>
            <tr>
                <td>Subject:</td>
                <td><input class="form-control" type="text" value="{{tool.subject.generic::input}}"/></td>
                <td class="miniCheck layout horizontal">
                    <template is="dom-if" if="{{tool.transport.browser}}">
                    <label><input type="checkbox" checked="{{tool.subject.usebrowser::change}}"/>Browser</label>
                    </template><template is="dom-if" if="{{tool.transport.cloud}}">
                    <label><input type="checkbox" checked="{{tool.subject.usecloud::change}}"/>Cloud</label>
                    </template><template is="dom-if" if="{{tool.transport.sms}}">
                    <label><input type="checkbox" checked="{{tool.subject.usesms::change}}"/>SMS</label>
                    </template><template is="dom-if" if="{{tool.transport.email}}">
                    <label><input type="checkbox" checked="{{tool.subject.useemail::change}}"/>Email</label>
                    </template>
                </td>
            </tr>
            <template is="dom-if" if="{{!tool.subject.usebrowser}}">
                <tr>
                    <td class="indentTd">Browser Subject:</td>
                    <td><input class="form-control" type="text" value="{{tool.subject.browser::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Browser</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.subject.usecloud}}">
                <tr>
                    <td class="indentTd">Cloud Subject:</td>
                    <td><input class="form-control" type="text" value="{{tool.subject.cloud::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Cloud</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.subject.usesms}}">
                <tr>
                    <td class="indentTd">SMS Subject:</td>
                    <td><input class="form-control" type="text" value="{{tool.subject.sms::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>SMS</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.subject.useemail}}">
                <tr>
                    <td class="indentTd">Email Subject:</td>
                    <td><input class="form-control" type="text" value="{{tool.subject.email::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Email</label></td>
                </tr>
            </template>
            
            <tr>
                <td>Details:</td>
                <td><input class="form-control" type="text" value="{{tool.details.generic::input}}"/></td>
                <td class="miniCheck layout horizontal">
                    <template is="dom-if" if="{{tool.transport.browser}}">
                    <label><input type="checkbox" checked="{{tool.details.usebrowser::change}}"/>Browser</label>
                    </template><template is="dom-if" if="{{tool.transport.cloud}}">
                    <label><input type="checkbox" checked="{{tool.details.usecloud::change}}"/>Cloud</label>
                    </template><template is="dom-if" if="{{tool.transport.sms}}">
                    <label><input type="checkbox" checked="{{tool.details.usesms::change}}"/>SMS</label>
                    </template><template is="dom-if" if="{{tool.transport.email}}">
                    <label><input type="checkbox" checked="{{tool.details.useemail::change}}"/>Email</label>
                    </template>
                </td>
            </tr>
            <template is="dom-if" if="{{!tool.details.usebrowser}}">
                <tr>
                    <td class="indentTd">Browser Details:</td>
                    <td><input class="form-control" type="text" value="{{tool.details.browser::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Browser</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.details.usecloud}}">
                <tr>
                    <td class="indentTd">Cloud Details:</td>
                    <td><input class="form-control" type="text" value="{{tool.details.cloud::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Cloud</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.details.usesms}}">
                <tr>
                    <td class="indentTd">SMS Details:</td>
                    <td><input class="form-control" type="text" value="{{tool.details.sms::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>SMS</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.details.useemail}}">
                <tr>
                    <td class="indentTd">Email Details:</td>
                    <td><input class="form-control" type="text" value="{{tool.details.email::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Email</label></td>
                </tr>
            </template>
            
            <tr>
                <td>URL:</td>
                <td><input class="form-control" type="text" value="{{tool.url.generic::input}}"/></td>
                <td class="miniCheck layout horizontal">
                    <template is="dom-if" if="{{tool.transport.browser}}">
                    <label><input type="checkbox" checked="{{tool.url.usebrowser::change}}"/>Browser</label>
                    </template><template is="dom-if" if="{{tool.transport.cloud}}">
                    <label><input type="checkbox" checked="{{tool.url.usecloud::change}}"/>Cloud</label>
                    </template><template is="dom-if" if="{{tool.transport.sms}}">
                    <label><input type="checkbox" checked="{{tool.url.usesms::change}}"/>SMS</label>
                    </template><template is="dom-if" if="{{tool.transport.email}}">
                    <label><input type="checkbox" checked="{{tool.url.useemail::change}}"/>Email</label>
                    </template>
                </td>
            </tr>
            <template is="dom-if" if="{{!tool.url.usebrowser}}">
                <tr>
                    <td class="indentTd">Browser URL:</td>
                    <td><input class="form-control" type="text" value="{{tool.url.browser::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Browser</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.url.usecloud}}">
                <tr>
                    <td class="indentTd">Cloud URL:</td>
                    <td><input class="form-control" type="text" value="{{tool.url.cloud::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Cloud</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.url.usesms}}">
                <tr>
                    <td class="indentTd">SMS URL:</td>
                    <td><input class="form-control" type="text" value="{{tool.url.sms::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>SMS</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.url.useemail}}">
                <tr>
                    <td class="indentTd">Email URL:</td>
                    <td><input class="form-control" type="text" value="{{tool.url.email::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Email</label></td>
                </tr>
            </template>
            
            <tr>
                <td>Expiry Date:</td>
                <td><input class="form-control" type="text" value="{{tool.expiryDate.generic::input}}"/></td>
                <td class="miniCheck layout horizontal">
                    <template is="dom-if" if="{{tool.transport.browser}}">
                    <label><input type="checkbox" checked="{{tool.expiryDate.usebrowser::change}}"/>Browser</label>
                    </template><template is="dom-if" if="{{tool.transport.cloud}}">
                    <label><input type="checkbox" checked="{{tool.expiryDate.usecloud::change}}"/>Cloud</label>
                    </template><template is="dom-if" if="{{tool.transport.sms}}">
                    <label><input type="checkbox" checked="{{tool.expiryDate.usesms::change}}"/>SMS</label>
                    </template><template is="dom-if" if="{{tool.transport.email}}">
                    <label><input type="checkbox" checked="{{tool.expiryDate.useemail::change}}"/>Email</label>
                    </template>
                </td>
            </tr>
            <template is="dom-if" if="{{!tool.expiryDate.usebrowser}}">
                <tr>
                    <td class="indentTd">Browser Expiry Date:</td>
                    <td><input class="form-control" type="text" value="{{tool.expiryDate.browser::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Browser</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.expiryDate.usecloud}}">
                <tr>
                    <td class="indentTd">Cloud Expiry Date:</td>
                    <td><input class="form-control" type="text" value="{{tool.expiryDate.cloud::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Cloud</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.expiryDate.usesms}}">
                <tr>
                    <td class="indentTd">SMS Expiry Date:</td>
                    <td><input class="form-control" type="text" value="{{tool.expiryDate.sms::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>SMS</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.expiryDate.useemail}}">
                <tr>
                    <td class="indentTd">Email Expiry Date:</td>
                    <td><input class="form-control" type="text" value="{{tool.expiryDate.email::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Email</label></td>
                </tr>
            </template>
            
            <tr>
                <td>Priority (0-5):</td>
                <td><input class="form-control" type="text" value="{{tool.priority.generic::input}}"/></td>
                <td class="miniCheck layout horizontal">
                    <template is="dom-if" if="{{tool.transport.browser}}">
                    <label><input type="checkbox" checked="{{tool.priority.usebrowser::change}}"/>Browser</label>
                    </template><template is="dom-if" if="{{tool.transport.cloud}}">
                    <label><input type="checkbox" checked="{{tool.priority.usecloud::change}}"/>Cloud</label>
                    </template><template is="dom-if" if="{{tool.transport.sms}}">
                    <label><input type="checkbox" checked="{{tool.priority.usesms::change}}"/>SMS</label>
                    </template><template is="dom-if" if="{{tool.transport.email}}">
                    <label><input type="checkbox" checked="{{tool.priority.useemail::change}}"/>Email</label>
                    </template>
                </td>
            </tr>
            <template is="dom-if" if="{{!tool.priority.usebrowser}}">
                <tr>
                    <td class="indentTd">Browser Priority:</td>
                    <td><input class="form-control" type="text" value="{{tool.priority.browser::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Browser</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.priority.usecloud}}">
                <tr>
                    <td class="indentTd">Cloud Priority:</td>
                    <td><input class="form-control" type="text" value="{{tool.priority.cloud::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Cloud</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.priority.usesms}}">
                <tr>
                    <td class="indentTd">SMS Priority:</td>
                    <td><input class="form-control" type="text" value="{{tool.priority.sms::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>SMS</label></td>
                </tr>
            </template>
            <template is="dom-if" if="{{!tool.priority.useemail}}">
                <tr>
                    <td class="indentTd">Email Priority:</td>
                    <td><input class="form-control" type="text" value="{{tool.priority.email::input}}"/></td>
                    <td><label class="miniCheck"><input type="checkbox" checked disabled/>Email</label></td>
                </tr>
            </template>
            
            <tr>
                <td>Payload:</td>
                <td colspan="2">
                    <bridgeit-code-editor class="code-editor" value="{{tool.payload}}"></bridgeit-code-editor>
                </td>
            </tr>
            
            </template>
            </table>
        </div>
    </template>
</dom-module>

<script src="bridgeit-transport-editor.js"></script>