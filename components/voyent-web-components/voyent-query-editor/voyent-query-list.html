<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../voyent-io-import/voyent-io-import.html">
<link rel="import" href="../../paper-item/paper-item.html">
<link rel="import" href="../../paper-item/paper-item-body.html">
<link rel="import" href="../../paper-listbox/paper-listbox.html">
<link rel="import" href="../../paper-dropdown-menu/paper-dropdown-menu.html">

<!--
Displays a list of queries retrieved by the `voyent-query-editor` component by listening for the `queriesRetrieved` event.

Example:

    <voyent-query-list for="editor"></voyent-query-list>

@demo demo.html
-->
<dom-module id="voyent-query-list">
    <template>
        <style type="text/css">
            .tableWrapper {
                @apply(--query-list-wrapper);
            }
            table {
                margin:0 auto;
                @apply(--query-list-table);
            }
            tbody {
                @apply(--query-list-tbody);
            }
            tr {
                @apply(--query-list-tr);
            }
            td {
                @apply(--query-list-td);
            }
            button {
                cursor:pointer;
                @apply(--query-list-button);
            }
        </style>
        <template is="dom-if" if="{{_hasQueries}}">
            <div class="tableWrapper">
                <table>
                    <tbody>
                        <paper-dropdown-menu label="View Saved Queries">
                            <paper-listbox class="dropdown-content" selected="{{selectedIndex}}">
                                <template is="dom-repeat" strip-whitespace items="[[_allQueries]]" as="query">
                                    <paper-item>[[query._id]]</paper-item>
                                </template>
                            </paper-listbox>
                        </paper-dropdown-menu>
                    </tbody>
                </table>
            </div>
        </template>
    </template>
</dom-module>

<script src="./voyent-query-list.js"></script>
