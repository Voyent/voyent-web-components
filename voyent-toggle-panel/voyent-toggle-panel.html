<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../paper-button/paper-button.html">
<link rel="import" href="../../neon-animation/neon-animated-pages.html">
<link rel="import" href="../../neon-animation/neon-animatable.html">
<link rel="import" href="../../neon-animation/neon-animations.html">
<link rel="import" href="../../iron-a11y-keys/iron-a11y-keys.html">

<!--
Expandable and collapsable panel

Example:

    <voyent-toggle-panel header="Basic Text">
        <header-before>Before Header</header-before>
        <header>Rich Header Override</header>
        <header-after>After Header</header-after>
        
        Content
    </voyent-toggle-panel>

@demo demo.html
-->
<dom-module id="voyent-toggle-panel">
    <template>
        <style type="text/css">
            .wrapper {
                width: 100%;
                @apply(--toggle-panel-wrapper);
            }
            
            .wrapperLoadedfalse * {
                transition: none !important; /* Disable animations until we are loaded */
            }
            
            .panelHeaderToggleabletrue {
                cursor: pointer;
            }
            
            .panelHeadertrue, .panelHeaderfalse {
                background-color: var(--app-primary-color,#2E348E);
                padding: 10px;
                font-weight: bold;
                color: white;
                @apply(--toggle-panel-header);
            }
            
            .panelHeadertrue {
                border-radius: 5px 5px 0 0;
                text-shadow: 0 0 5px var(--app-primary-color, #2488A9);
            }
            
            .panelHeaderfalse {
                border-radius: 5px;
                text-shadow: 0 0 10px var(--app-primary-color, #2488A9);
                filter: brightness(85%);
            }
            
            .arrowtrue, .arrowfalse {
                width: 0;
                height: 0;
                border-left: 6px solid transparent;
                border-right: 6px solid transparent;
                border-top: 6px solid white;
                margin: 8px 5px 0 2px;
                float: left;
                -moz-transition: -moz-transform 200ms;
                -webkit-transition: -webkit-transform 200ms;
                -o-transition: -o-transform 200ms;
                transition: transform 200ms;
            }
            
            .arrowfalse {
                -moz-transform: rotate(-90deg);
                -o-transform: rotate(-90deg);
                -webkit-transform: rotate(-90deg);
                transform: rotate(-90deg);
            }
            
            .contenttrue, .contentfalse {
                -moz-transition: max-height 200ms linear, visibility 200ms;
                -webkit-transition: max-height 200ms linear, visibility 200ms;
                -o-transition: max-height 200ms linear, visibility 200ms;
                transition: max-height 200ms linear, visibility 200ms;
                overflow: hidden;
                margin: 0;
                padding: 0;
                border-top: 0;
                border-left: 1px solid #DEDEDE;
                border-right: 1px solid #DEDEDE;
                border-bottom: 1px solid #DEDEDE;
                border-radius: 0 0 5px 5px;
                width: calc(100% - 2px); /* Account for borders */
                background-color: #EEEEEE;
                @apply(--toggle-panel-content);
            }
            
            .contenttrue {
                max-height: 1000px;
                visibility: visible;
                
            }
            
            .contentfalse {
                height: auto;
                max-height: 0;
                visibility: hidden;
            }
            
            .contentPad {
                padding: 15px;
                @apply(--toggle-panel-content-pad);
            }
        </style>
        
        <div class$="wrapper wrapperLoaded[[visible]] wrapperLoaded[[animations]]">
            <div on-click="toggle" class$="panelHeader[[expanded]] panelHeaderToggleable[[toggleable]]">
                <content select="arrow">
                    <div class$="arrow[[expanded]]"></div>
                </content>
                <content select="header-before"></content>
                <content select="header">[[header]]</content>
                <content select="header-after"></content>
            </div>
            <div class$="content[[expanded]]">
                <div class="contentPad">
                <content></content>
                </div>
            </div>
        </div>
    </template>
</dom-module>

<script src="./voyent-toggle-panel.js"></script>