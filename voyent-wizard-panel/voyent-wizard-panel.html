<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../paper-button/paper-button.html">
<link rel="import" href="../../neon-animation/neon-animated-pages.html">
<link rel="import" href="../../neon-animation/neon-animatable.html">
<link rel="import" href="../../neon-animation/neon-animations.html">
<link rel="import" href="../../iron-a11y-keys/iron-a11y-keys.html">

<!--
Paging content switcher with Next/Back buttons
Define the interior panels as <neon-animatable>
Note that the height WON'T dynamically scale to fit your content, due to how the neon-animated-pages work
 (see https://github.com/PolymerElements/neon-animation/issues/101)
This can be achieved with the --voyent-wizard-panel-height mixin

This component fires 3 events that can be used to listen externally for button presses:
 voyent-wizard-panel-next
 voyent-wizard-panel-previous
 voyent-wizard-panel-changed (on any button press)
These events have "selected" as a piece of detail information

In addition validation can be attached to each step of the wizard, by using
 wizardcomp.attachValidator(step, parentThis, validationFn)
The "step" above is a non-zero based index for the step you want to validate
The "parentThis" is the "this" from the code that calls attachValidator, and will be used via call() on the validationFn
The "validationFn" is an arbitrary function that must return true/false. If false the Next button will abort
 
Example:

    <voyent-wizard-panel visible="true" selected="0"
                         previousdisabled="false" nextdisabled="false"
                         previouslabel="Back" nextlabel="Next"
                         previoushidden="false" nexthidden="false">
        <neon-animatable>
            Page 1
        </neon-animatable>
        <neon-animatable>
            Page 2
        </neon-animatable>
        
        <buttons-before>
        </buttons-before>
        
        <buttons-between>
        </buttons-between>
        
        <buttons-after>
        </buttons-after>
    </voyent-wizard-panel>

@demo demo.html
-->
<dom-module id="voyent-wizard-panel">
    <template>
        <style type="text/css">
            :host {
                display: block;
            }
            
            neon-animated-pages {
                min-width:100%;
                @apply(--voyent-wizard-panel-height);
                background-color:transparent;
            }
            neon-animatable {
                box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                            0 1px 5px 0 rgba(0, 0, 0, 0.12),
                            0 3px 1px -2px rgba(0, 0, 0, 0.2);
            }
            .buttonContainer {
                width:100%;
                margin-top:10px;
                text-align:center;
            }
        </style>
        
        <iron-a11y-keys id="a11y" keys="enter"
                        on-keys-pressed="onEnter"></iron-a11y-keys>
        
        <neon-animated-pages id="pages" selected="{{selected}}"
                             entry-animation="{{entryanimation}}"
                             exit-animation="{{exitanimation}}"
                             class="fit"
                             style="overflow: hidden;">
            <content select="neon-animatable"></content>
        </neon-animated-pages>
        
        <div class="buttonContainer">
            <content select="buttons-before"></content>
            <paper-button raised disabled="{{previousdisabled}}" hidden$="{{previoushidden}}" on-click="previous">{{previouslabel}}</paper-button>
            <content select="buttons-between"></content>
            <paper-button raised id="nextButton" disabled="{{nextdisabled}}" hidden$="{{nexthidden}}" on-click="next">{{nextlabel}}</paper-button>
            <content select="buttons-after"></content>
        </div>
    </template>
</dom-module>

<script src="./voyent-wizard-panel.js"></script>