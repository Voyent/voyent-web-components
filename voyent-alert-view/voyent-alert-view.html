<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../common/imports/voyent.html">
<link rel="import" href="../common/voyent-alert/voyent-alert-map-behaviour.html">
<link rel="import" href="../common/voyent-alert/voyent-alert-behaviour.html">
<link rel="import" href="../common/voyent-alert/voyent-alert-styles.html">
<link rel="import" href="../../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../iron-icons/iron-icons.html">

<!--
Displays a map-based read-only view for displaying alert and User data.

Example:

    <voyent-alert-view account="myAccount"
                       realm="myRealm"
                       height="500">
    </voyent-alert-view>

@demo demo.html
-->
<dom-module id="voyent-alert-view">
    <template>
        <style include="voyent-alert-styles" is="custom-style">
            #map[data-is-fullscreen] {
                border: none;
                border-radius: 0;
            }
            #fullscreenContainer {
                position: fixed;
                top: 0;
                left: 0;
                /* -15px width for the scrollbar */
                width: -webkit-calc(100% - 15px);
                width: -moz-calc(100% - 15px);
                width: calc(100% - 15px);
                /* -64px width for the app-header */
                height: -webkit-calc(100% - 64px);
                height: -moz-calc(100% - 64px);
                height: calc(100% - 64px);
                margin-top: 64px;
                padding: 0;
                z-index: 999;
            }
            #fullscreenContainer[data-is-mobile] {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            #fullscreenContainer[data-mode="preview"] {
                /* -250px width for the app-drawer + -15px width for the scrollbar */
                width: -webkit-calc(100% - 265px);
                width: -moz-calc(100% - 265px);
                width: calc(100% - 265px);
                margin-left:250px;
            }
            .close-button {
                right: 7px;
                bottom: 7px;
            }
            [hidden] {
                display: none !important;
            }
            .customMapBttn {
                border-radius: 5px;
            }
        </style>
        <div id="container">
            <div id="map" data-is-fullscreen$="[[_isFullscreenMode]]"></div>
        </div>
        <div id="fullscreenContainer" data-is-mobile$="[[isMobile]]" data-mode$="[[mode]]" hidden></div>
        <div id="fullscreenBttn" class="customMapBttnWrap no-select" hidden>
            <div class="customMapBttn" title="Toggle fullscreen view">
                <span>
                    <div class="customMapBttnImg">
                        <img src="../common/voyent-alert/img/fullscreen_bttn.png" class="open-button">
                        <paper-icon-button icon="close" class="close-button no-select" hidden></paper-icon-button>
                    </div>
                </span>
            </div>
        </div>
    </template>
</dom-module>

<script src="voyent-alert-view.js"></script>
