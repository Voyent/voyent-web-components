<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../common/imports/voyent-io.html">
<link rel="import" href="voyent-location-behavior.html">

<!--
Define a single route for the `voyent-location-simulator` component.

Example:

    <voyent-location-simulator account="myAccount"
                                 realm="myRealm">
            <voyent-location-vector label="ICEsoft Technologies To Calgary Tower"
                                     origin="1717 10 St NW, Calgary"
                                     destination="101 9 Ave SW, Calgary"
                                     travelmode="DRIVING"
                                     speed="60"
                                     frequency="5">
            </voyent-location-vector>
            <voyent-location-vector label="Princes Island Park To Fort Calgary"
                                     user="jimjones"
                                     origin="698 Eau Claire Ave SW, Calgary"
                                     destination="750 9th Avenue SE, Calgary"
                                     travelmode="BICYCLING"
                                     speed="15"
                                     frequency="10">
            </voyent-location-vector>
    </voyent-location-simulator>

@demo demo.html
-->
<dom-module id="voyent-location-vector">
    <template>
        <style type="text/css">
            .form-group {
                margin-bottom:15px;
                @apply(--location-route-input-group);
            }
            .form-control {
                width:100%;
                @apply(--location-route-input);
            }
            .form-control:disabled {
                @apply(--location-route-input-disabled);
            }
            .simulatorWrapper label {
                @apply(--location-route-label);
            }
            .buttonContainer {
                text-align:center;
                @apply(--location-route-button-container);
            }
            .buttonContainer button {
                @apply(--location-route-button);
            }
            .buttonContainer button:disabled {
                @apply(--location-route-button-disabled);
            }
            .simulatorWrapper {
                @apply(--location-route-wrapper);
            }
            #traclersLbl.error,
            #bearingLbl.error,
            #durationLbl.error {
                color:#a94442;
            }
            #trackers.error,
            #bearing.error,
            #duration.error {
                border:1px solid #a94442;
            }
        </style>
        <div class="simulatorWrapper">
            <div class="buttonContainer">
                <button on-click="previousCoordinate" disabled$="{{_previousBtnDisabled}}">Previous</button>
                <button on-click="cancelSimulation" disabled$="{{_cancelBtnDisabled}}">Stop</button>
                <button on-click="playSimulation" disabled$="{{_playBtnDisabled}}">Play</button>
                <button on-click="pauseSimulation" disabled$="{{_pauseBtnDisabled}}">Pause</button>
                <button on-click="nextCoordinate" disabled$="{{_nextBtnDisabled}}">Next</button>
                <br/><br/>
                <button on-click="updateLocationAtMarker" disabled$="{{_updateBtnDisabled}}">Manual Location Update</button>
            </div>
            <div class="form-group">
                <label for="label">Label:</label>
                <input id="label" type="text" class="form-control" value="{{label::change}}" disabled$="{{_inputsDisabled}}" placeholder="Enter a label">
            </div>
            <template is="dom-if" if="{{_trackers}}">
                <div class="form-group">
                    <label id="trackersLbl" for="trackers" class$="{{trackerLblClass}}">Tracker:</label>
                    <select id="trackers" class$="{{trackerInputClass}}" value="{{tracker::change}}" disabled$="{{_inputsDisabled}}">
                        <option value="" selected>Select a Tracker</option>
                        <template is="dom-repeat" strip-whitespace items="{{_toArray(_trackers)}}" as="tracker">
                            <option value="{{tracker._id}}">{{tracker.properties.zoneNamespace}}</option>
                        </template>
                    </select>
                </div>
            </template>
            <div class="form-group">
                <label id="bearingLbl" for="bearing" class$="{{bearingLblClass}}">Bearing (degrees):</label>
                <input id="bearing" type="text" class$="{{bearingInputClass}}" value="{{bearing::change}}" disabled$="{{_inputsDisabled}}" placeholder="Enter a bearing">
            </div>
            <div class="form-group">
                <label for="speed">Speed (approximate):</label>
                <input id="speed" type="number" min="1" class="form-control" value="{{speed::change}}" disabled$="{{_inputsDisabled}}">
                <select id="speedUnit" class="form-control" value="{{speedunit::change}}" disabled$="{{_inputsDisabled}}">
                    <option value="kph">KPH</option>
                    <option value="mph">MPH</option>
                </select>
            </div>
            <div class="form-group">
                <label id="durationLbl" for="duration" class$="{{durationLblClass}}">Duration (minutes):</label>
                <input id="duration" type="text" class$="{{durationInputClass}}" value="{{duration::change}}" disabled$="{{_inputsDisabled}}" placeholder="Enter a duration, the time the simulation will run for">
            </div>
            <div class="form-group">
                <label for="frequency">Location Update Frequency (seconds):</label>
                <input id="frequency" type="number" min="1" class="form-control" value="{{frequency::change}}" disabled$="{{_inputsDisabled}}">
            </div>
        </div>
    </template>
</dom-module>

<script src="voyent-location-vector.js"></script>